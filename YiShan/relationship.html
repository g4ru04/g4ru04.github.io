<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF8">
    <title>WithYiShan</title>

    <meta property="og:title" content="Relationship with Yi Shan">
    <meta property="og:description" content="I Like Me Better When I'm With You">
    <meta property="og:image" content="https://g4ru04.github.io/YiShan/we.jpg">
    <meta property="og:url" content="https://g4ru04.github.io/YiShan">
    <meta property="og:type" content="website"> <meta name="description" content="Relationship with Yi Shan">

    <link rel="icon" href="https://g4ru04.github.io/YiShan/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://g4ru04.github.io/YiShan/favicon.ico" type="image/x-icon" />
  <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
  <style>
    .full {
      position: fixed;
      bottom: 40px;
      right: 40px;
      width: calc(100vw - 80px);
      height: calc(100vh - 80px);
      background-repeat: no-repeat;
      background-size: contain;
      background-position:center;
      text-align: center;
      opacity: 0.8;
    }
    body{
      background-color: #333;
      background: url(./galaxy.gif) repeat #0a0a0a !important;
      background-size: 1920px auto;
    }
    .center{
      font-size: 1.25rem;
      /*font-weight: bold;*/
      width: 400px;
      height: 60px;
      margin: auto;
      position:fixed;
      top: calc( 50vh - 10px );
      left: calc( 50vw - 200px );
      background: radial-gradient(300px 40px ellipse,#900, transparent 80%);
      color: #dda700;
    }
    .play {
      position: fixed;
      top: calc(50vh - 80px);
      left: calc(50vw - 40px);
      width: 80px;
      height: 80px;
      background-repeat: no-repeat;
      background-size: contain;
      background-position:center;
      text-align: center;
      opacity: 0.3;
      background-image:url(./play.png);
    }
    #back {
      opacity: 0.6;
      background-image:url(./we2.jpg);
    }
    #front {
      display:none;
      opacity: 0.6;
      background-image:url(./we1.jpg);
    }
  </style>
  </head>
  <body>

    <div class='play' id='play' style=''></div>
    <div class='full' id='back' style=''></div>
    <div class='full' id='front' style=''></div>
    <div class='full'>
      <div class='center'></div>
    </div>

    <audio loop=true autoplay=true id="piano">
      <source src="./ed-perfect.mp3" >
    </audio>
  <script>
  function setTime(time){
    let thatDay = new Date('2025/07/12 21:00').getTime();
    let distance = (new Date(time).getTime() - thatDay);
    let distanceSec = Math.floor(distance / 1000);
    let distanceMin = Math.floor(distanceSec / 60);
    let distanceHour = Math.floor(distanceMin / 60);
    let distanceDay = Math.floor(distanceHour / 24);
    let distanceMonth = Math.floor(distanceDay / 30);
    $('.center').html('與妳交往的<br>'
      + '<div style="font-size:1.5rem">第 '+ (distanceDay)+' 天'
      + '又 '+ (distanceHour % 24)+' 小時'
      + ' '+ (''+(distanceMin % 60)).padStart(2,'0')+' 分'
      + ' '+ (''+(distanceSec % 60)).padStart(2,'0')+' 秒</div>');
  }

  // function setFrozenTime(){
  //   setTime('2021/04/28 19:08:55');
  //   setTimeout(function(){
  //     setTime('2021/04/28 19:07:55');
  //   },40);
  //
  //   setTimeout(function(){
  //     setTime('2021/04/28 19:07:54');
  //   },200);
  // }
  $(function(){
    setTime(new Date());
    document.getElementById("piano").currentTime = 10;

    document.body.addEventListener("click", function () {
      document.getElementById("play").remove();
      document.getElementById("piano").play();
    })
    setInterval(function(){
      $('#front').fadeIn(2000);
      $('#back').fadeOut(2000);
      setTimeout(function(){
        $('#front').fadeOut(1500);
        $('#back').fadeIn(1500);
      },7*1000);
    }, 20*1000);
    // setFrozenTime();
    setInterval(function(){
      setTime(new Date());
    }, 1000);
  });
  </script>
  </body>
  </html>
